% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/stop_helper.R
\name{stop2}
\alias{stop2}
\title{Stop with Better Error Messages}
\usage{
stop2(message, ..., .envir = parent.frame(), class = NULL)
}
\arguments{
\item{message}{An error message string. Can include cli-style formatting
like \code{{variable}} if cli is available, or glue-style formatting for rlang.}

\item{...}{Additional arguments passed to the error function.}

\item{.envir}{Environment for string interpolation. Defaults to parent frame.}

\item{class}{Character vector of error classes (for cli and rlang).}
}
\value{
This function does not return; it stops execution with an error.
}
\description{
A helper function that uses the best available error handling method.
Tries to use \code{cli::cli_abort()} for rich formatting, falls back to
\code{rlang::abort()} for better error handling, and ultimately uses base
\code{stop()} if neither is available.
}
\details{
This function implements a fallback mechanism for error handling:
\itemize{
\item{If \pkg{cli} is available, uses \code{\link[cli]{cli_abort}} for rich,
formatted error messages with color and styling support.}
\item{If \pkg{cli} is not available but \pkg{rlang} is, uses
\code{\link[rlang]{abort}} for structured error objects with better
error handling capabilities.}
\item{If neither package is available, falls back to base R's \code{\link[base]{stop}}
with \code{call. = FALSE} to follow tidyverse style conventions.}
}
}
\examples{
\donttest{
# Basic usage
stop2("Something went wrong")

# With variable interpolation (if cli available)
x <- 5
stop2("Expected value < 3, got {x}")

# With custom error class
stop2("Invalid input", class = "invalid_input_error")
}

}
\seealso{
\code{\link[cli]{cli_abort}}, \code{\link[rlang]{abort}}, \code{\link[base]{stop}}
}
